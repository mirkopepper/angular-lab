"use strict";angular.module("angularLabApp",["ngCookies","ngResource","ngSanitize","ngRoute","GitHubService","Dasboard","User","Repos","Log"]).config(["$httpProvider",function(a){a.defaults.useXDomain=!0,delete a.defaults.headers.common["X-Requested-With"]}]).controller("AppController",function(){}).config(["$routeProvider","$locationProvider",function(a,b){var c=function(a){return"widgets/dashboard/views/"+a+".html"};a.when("/",{templateUrl:c("main"),controller:"MainController"}).when("/about",{templateUrl:c("about"),controller:"AboutController"}).when("/contact",{templateUrl:c("contact"),controller:"ContactController"}).otherwise({redirectTo:"/"}),b.html5Mode(!0)}]),angular.module("GitHubService",[]),GitHubService.service("GitHubService",function(a){var b="http://github.com/login/oauth/authorize",c="1a510bdc3d096a385053",d="user,repo";this.getUrl=function(){return b+"?client_id="+c+"&scope="+d},this.sendCode=function(b){return a.post("http://localhost:3000/login/oauth/access_token?code="+b).then(function(a){console.log(a);var b=a.data.split("access_token=")[1].split("&")[0];return console.log("devolvelo "+b),b})},this.getRepos=function(b){return a.get("http://localhost:3000/api/user/starred?access_token="+b)}});var DashboardController=angular.module("DasboardController",["angularLabApp"]);DashboardController.controller("HeaderController",["$scope","$location",function(a,b){a.title="Angular Lab App",a.isActive=function(a){return a===b.path()}}]).controller("MainController",["$scope","$routeParams","GitHubService",function(a,b,c){a.isLogged=!1,a.data=[],a.getOauthUrl=function(){window.location=c.getUrl()},a.body={signin:"Hello, you must be signed into your GitHub account",login:"Login with Github"};var d=location.search.split("code=")[1];c.sendCode(d).then(function(b){console.log("tamo aca "+b),a.token=b,a.isLogged=!0,c.getRepos(b).then(function(b){a.data=b.data,console.log(a.data)})})}]).controller("AboutController",["$scope",function(){}]).controller("ContactController",["$scope",function(){}]).controller("FooterController",["$scope",function(a){a.footerText="github.com/mirkopepper/angular-lab"}]),angular.module("angularLabApp").controller("UserController",["$scope",function(a){a.isLogged=!1}]);